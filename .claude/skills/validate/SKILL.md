---
name: validate
description: 요구사항을 검증한다. 구현 가능성, 완전성, 일관성을 체크할 때 사용.
disable-model-invocation: true
user-invocable: true
allowed-tools: Read, Grep, Glob
---

# 요구사항 검증

## 목표
요구사항의 구현 가능성, 완전성, 일관성을 검증한다.

## 입력
- `.atdd/requirements/requirements-draft.md`
- `.atdd/requirements/interview-log.md`

## 트리거
- `/validate` 명령어 실행
- 인터뷰 완료 후 자동 제안

## 검증 항목

### 1. Feasibility (구현 가능성)

| 항목 | 체크 내용 |
|------|----------|
| 기술 스택 | Java 17+, Spring Boot 3.x 호환 여부 |
| 외부 의존성 | 외부 API, 라이브러리 사용 가능 여부 |
| 일정 | 요청된 기간 내 구현 가능 여부 |
| 리소스 | 필요한 인프라, 인력 확보 가능 여부 |

### 2. Completeness (완전성)

| 항목 | 체크 내용 |
|------|----------|
| 기능 요구사항 | 모든 기능이 명세되었는가? |
| 예외 케이스 | 에러 상황이 정의되었는가? |
| 비기능 요구사항 | 성능, 보안, 확장성 요구사항이 있는가? |
| 사용자 시나리오 | 주요 사용자 흐름이 정의되었는가? |

### 3. Consistency (일관성)

| 항목 | 체크 내용 |
|------|----------|
| 충돌 | 요구사항 간 모순이 없는가? |
| 모호성 | "빠른", "많은" 등 모호한 표현이 없는가? |
| 용어 | 동일 개념에 동일 용어를 사용하는가? |
| 수준 | 요구사항의 상세도가 일관적인가? |

### 4. Dependencies (의존성)

| 의존성 유형 | 체크 내용 |
|-------------|----------|
| 외부 API | 연동 필요 API 목록 |
| 데이터베이스 | 필요 DB, 스키마 |
| 타 시스템 | 연동 필요 내/외부 시스템 |
| 인프라 | 필요 인프라 리소스 |

## 검증 프로세스

```
1. requirements-draft.md 로드
   └─▶ Read 파일

2. Feasibility 검증
   ├─▶ 기술 스택 호환성 확인
   ├─▶ 외부 의존성 확인
   └─▶ 일정/리소스 평가

3. Completeness 검증
   ├─▶ 누락 요구사항 체크
   ├─▶ 예외 케이스 확인
   └─▶ 비기능 요구사항 확인

4. Consistency 검증
   ├─▶ 충돌 확인
   ├─▶ 모호성 식별
   └─▶ 용어 일관성 확인

5. Dependencies 검증
   ├─▶ 외부 API 의존성
   ├─▶ DB 의존성
   └─▶ 타 시스템 연동

6. 검증 리포트 작성
   ├─▶ validation-report.md
   └─▶ refined-requirements.md
```

## 출력 파일

### validation-report.md
```markdown
# 요구사항 검증 리포트

## 검증 일시
[날짜 시간]

## 검증 결과: ✅ PASS / ❌ FAIL

## 세부 검증

### 1. Feasibility
| 항목 | 결과 | 비고 |
|------|------|------|
| 기술 스택 호환성 | ✅/❌ | [상세 내용] |
| 외부 의존성 | ✅/❌ | [상세 내용] |
| 일정 | ✅/❌ | [상세 내용] |

### 2. Completeness
| 항목 | 결과 | 비고 |
|------|------|------|
| 누락 요구사항 | ✅/⚠️/❌ | [상세 내용] |
| 예외 케이스 | ✅/⚠️/❌ | [상세 내용] |
| 비기능 요구사항 | ✅/⚠️/❌ | [상세 내용] |

### 3. Consistency
| 항목 | 결과 | 비고 |
|------|------|------|
| 충돌 | ✅/❌ | [상세 내용] |
| 모호성 | ✅/⚠️ | [상세 내용] |
| 용어 | ✅/⚠️ | [상세 내용] |

### 4. Dependencies
| 의존성 | 결과 | 비고 |
|--------|------|------|
| [의존성명] | ✅/❌ | [상세 내용] |

## 조치 사항
1. [조치 항목 1]
2. [조치 항목 2]

## 결론
- [PASS/FAIL 사유]
```

### refined-requirements.md
```markdown
# 정제된 요구사항

## 프로젝트명
[프로젝트 이름]

## 검증 완료 요구사항

### 기능 요구사항

#### Must have
- [ ] [구체화된 요구사항 1]
  - 상세: [상세 내용]
  - 예외: [예외 케이스]
  - 검증: [검증 기준]

#### Should have
- [ ] [요구사항]

[...]
```

## 분기 처리

### PASS
```
검증 통과 ✅
모든 검증 항목을 충족했습니다.
다음 단계: /design
```

### FAIL
```
검증 실패 ❌
다음 항목에 대한 조치가 필요합니다:
1. [조치 항목 1]
2. [조치 항목 2]

조치 후 /validate를 다시 실행하세요.
```

## 다음 단계
- 검증 통과 시 `/design` 실행
- 검증 실패 시 요구사항 수정 후 재검증

## 참조
- Agent 정의: [AGENTS.md](../../../AGENTS.md)
- 워크플로우: [WORKFLOWS.md](../../../WORKFLOWS.md)
